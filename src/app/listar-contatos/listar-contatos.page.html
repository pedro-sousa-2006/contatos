<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Listar contatos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="container">

  

 @if(array_cliente.length > 0){
   <div *ngFor="let cliente of array_cliente , let i = index">
    <ion-list class="row">

      <ion-item>
        <ion-label>Ordem</ion-label>
        <p slot="end">{{ i + 1 }}°</p>
      </ion-item>

      <ion-item>
        <ion-label>Nome</ion-label>
        <p slot="end">{{ cliente.nome }}</p>
      </ion-item>

      <ion-item>
        <ion-label>Sobrenome</ion-label>
        <p slot="end">{{ cliente.sobrenome }}</p>
        </ion-item>

      <ion-item>
        <ion-label>Email</ion-label>
        <p slot="end">{{ cliente.email }}</p>
      </ion-item>

      <ion-item>
        <ion-button (click)="abrirEdicao(cliente)">
          Alterar
        </ion-button>
      </ion-item>

      <ion-item>
        <ion-button color="danger" (click)="deletar(cliente)">
          Deletar
        </ion-button>
      </ion-item>

      <!-- CAMPOS DE ALTERAÇÃO -->
      <div *ngIf="editandoId === cliente.id">

        <ion-item>
          <ion-input [(ngModel)]="novoNome" placeholder="Digite o novo nome"></ion-input>
        </ion-item>

        <ion-item>
          <ion-input [(ngModel)]="novoSobrenome" placeholder="Digite o novo sobrenome"></ion-input>
        </ion-item>

        <ion-item>
          <ion-input [(ngModel)]="novoEmail" placeholder="Digite o novo email"></ion-input>
        </ion-item>

        <ion-item>
          <ion-button (click)="gravar(cliente)">Salvar</ion-button>
          <ion-button color="danger" (click)="cancel()">Cancelar</ion-button>
        </ion-item>

      </div>

    </ion-list>
  </div>
 }@else {
  <h2>Nenhum contato disponível</h2>
 }

  <ion-button routerLink="/home">Voltar</ion-button>

</ion-content>
